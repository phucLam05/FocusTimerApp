<UserControl x:Class="GroupThree.FocusTimerApp.Views.HotkeySettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:conv="clr-namespace:GroupThree.FocusTimerApp.Converters">
    <UserControl.Resources>
        <conv:BooleanToStatusConverter x:Key="BooleanToStatusConverter" />
        <Style x:Key="HotkeyTextBoxStyle" TargetType="TextBox">
            <Setter Property="Tag" Value="" />
            <EventSetter Event="GotFocus" Handler="HotkeyTextBox_GotFocus" />
            <EventSetter Event="LostFocus" Handler="HotkeyTextBox_LostFocus" />
            <EventSetter Event="PreviewKeyDown" Handler="HotkeyTextBox_PreviewKeyDown" />
        </Style>
    </UserControl.Resources>

    <StackPanel Margin="10">
        <TextBlock Text="Hotkey Settings" FontWeight="Bold" FontSize="14" />

        <StackPanel Orientation="Vertical" Margin="0,8">
            <ItemsControl ItemsSource="{Binding Hotkeys}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <DockPanel Margin="0,6" LastChildFill="False">
                            <TextBlock Text="{Binding ActionName}" Width="200" VerticalAlignment="Center" />
                            <TextBox Style="{StaticResource HotkeyTextBoxStyle}"
                                     Text="{Binding HotkeyString, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                     Width="200" Height="24" Margin="6,0" DockPanel.Dock="Right" />
                            <TextBlock Text="{Binding IsRegistered, Converter={StaticResource BooleanToStatusConverter}}"
                                       Width="100" VerticalAlignment="Center" Margin="6,0" DockPanel.Dock="Right" />
                        </DockPanel>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </StackPanel>

        <StackPanel Orientation="Horizontal" Margin="0,8">
            <Button Content="Apply (Reload)" Command="{Binding ApplyCommand}" Width="120" Margin="0,0,6,0" />
            <Button Content="Reset Defaults" Command="{Binding ResetDefaultsCommand}" Width="120" />
        </StackPanel>
    </StackPanel>
</UserControl>