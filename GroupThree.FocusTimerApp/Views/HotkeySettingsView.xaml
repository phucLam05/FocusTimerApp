<UserControl x:Class="GroupThree.FocusTimerApp.Views.HotkeySettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:conv="clr-namespace:GroupThree.FocusTimerApp.Converters">
    
    <!-- ==================== RESOURCES ==================== -->
    <UserControl.Resources>
        <conv:BooleanToStatusConverter x:Key="BooleanToStatusConverter" />
    </UserControl.Resources>

    <!-- ==================== MAIN CONTENT ==================== -->
    <StackPanel>
        
        <!-- Header -->
        <TextBlock Text="Hotkey Settings" 
                   FontSize="20" 
                   FontWeight="Bold"
                   Foreground="{DynamicResource TextPrimaryBrush}"
                   Margin="0,0,0,8" />
        
        <TextBlock Text="Configure keyboard shortcuts for quick access" 
                   FontSize="11"
                   Foreground="{DynamicResource TextSecondaryBrush}"
                   Margin="0,0,0,12" />

        <!-- Hotkeys List Card -->
        <Border Background="{DynamicResource CardBackgroundBrush}"
                BorderBrush="{DynamicResource BorderBrush}"
                BorderThickness="1"
                CornerRadius="12"
                Padding="15"
                Margin="0,0,0,10">
            <ItemsControl ItemsSource="{Binding Hotkeys}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border BorderBrush="{DynamicResource BorderBrush}"
                                BorderThickness="0,0,0,1"
                                Padding="0,8"
                                Margin="0,0,0,8">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="140" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="90" />
                                </Grid.ColumnDefinitions>
                                
                                <!-- Action Name -->
                                <TextBlock Grid.Column="0"
                                           Text="{Binding ActionName}" 
                                           FontSize="12"
                                           FontWeight="SemiBold"
                                           Foreground="{DynamicResource TextPrimaryBrush}"
                                           VerticalAlignment="Center" />
                                
                                <!-- Hotkey Input TextBox -->
                                <TextBox Grid.Column="1" 
                                         Text="{Binding HotkeyString, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource ModernTextBox}"
                                         Height="32"
                                         VerticalContentAlignment="Center"
                                         Margin="10,0" />
                                
                                <!-- Status -->
                                <TextBlock Grid.Column="2"
                                           Text="{Binding IsRegistered, Converter={StaticResource BooleanToStatusConverter}}" 
                                           FontSize="10"
                                           FontWeight="SemiBold"
                                           Foreground="{DynamicResource TextSecondaryBrush}"
                                           VerticalAlignment="Center"
                                           HorizontalAlignment="Center" />
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </Border>

        <!-- Info Box -->
        <Border Background="{DynamicResource SecondaryButtonBrush}"
                BorderBrush="{DynamicResource PrimaryButtonBrush}"
                BorderThickness="1"
                CornerRadius="8"
                Padding="12"
                Margin="0,0,0,15">
            <StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                    <Path Data="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"
                          Fill="{DynamicResource PrimaryButtonBrush}"
                          Width="16" Height="16"
                          Stretch="Uniform"
                          Margin="0,0,6,0" />
                    <TextBlock Text="Hotkey Tips" 
                               FontSize="12"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextPrimaryBrush}" />
                </StackPanel>
                
                <TextBlock FontSize="10"
                           Foreground="{DynamicResource TextSecondaryBrush}"
                           LineHeight="16">
                    <Run Text="&#x2022; Use modifiers: Ctrl, Alt, Shift, Win" />
                    <LineBreak />
                    <Run Text="&#x2022; Example: Ctrl+Alt+S, Win+F1" />
                    <LineBreak />
                    <Run Text="&#x2022; Click 'Apply' to register changes" />
                </TextBlock>
            </StackPanel>
        </Border>

        <!-- Action Buttons -->
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="Reset Defaults" 
                    Command="{Binding ResetDefaultsCommand}" 
                    Style="{StaticResource ModernButton}"
                    Width="130"
                    Height="38"
                    Margin="0,0,8,0" />
            
            <Button Content="Apply Changes" 
                    Command="{Binding ApplyCommand}" 
                    Style="{StaticResource PrimaryButton}"
                    Width="130"
                    Height="38" />
        </StackPanel>
    </StackPanel>
</UserControl>