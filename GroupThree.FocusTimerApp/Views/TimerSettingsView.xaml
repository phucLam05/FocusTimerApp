<UserControl x:Class="GroupThree.FocusTimerApp.Views.TimerSettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:conv="clr-namespace:GroupThree.FocusTimerApp.Converters">
    
    <UserControl.Resources>
        <conv:IntToStringConverter x:Key="IntToStringConverter" />
    </UserControl.Resources>
    
    <StackPanel>
        
        <!-- Header -->
        <TextBlock Text="Timer Settings" 
                   FontSize="20" 
                   FontWeight="Bold"
                   Foreground="{DynamicResource TextPrimaryBrush}"
                   Margin="0,0,0,15" />

        <!-- Pomodoro Settings Card -->
        <Border Background="{DynamicResource CardBackgroundBrush}"
                BorderBrush="{DynamicResource BorderBrush}"
                BorderThickness="1"
                CornerRadius="12"
                Padding="18"
                Margin="0,0,0,12">
            <StackPanel>
                <TextBlock Text="Pomodoro Timer" 
                           FontSize="15" 
                           FontWeight="SemiBold"
                           Foreground="{DynamicResource TextPrimaryBrush}"
                           Margin="0,0,0,12" />

                <!-- Work Duration & Short Break Row -->
                <Grid Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="10" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    
                    <!-- Work Duration -->
                    <StackPanel Grid.Column="0">
                        <TextBlock Text="Work Duration" 
                                   FontSize="12"
                                   FontWeight="Medium"
                                   Foreground="{DynamicResource TextPrimaryBrush}"
                                   Margin="0,0,0,4" />
                        <StackPanel Orientation="Horizontal">
                            <TextBox Text="{Binding WorkDuration, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource IntToStringConverter}, FallbackValue=25}" 
                                     Width="80"
                                     Height="36"
                                     FontSize="16"
                                     FontWeight="Bold"
                                     TextAlignment="Center"
                                     VerticalContentAlignment="Center"
                                     Style="{StaticResource ModernTextBox}" />
                            <TextBlock Text="min" 
                                       Margin="8,0,0,0"
                                       VerticalAlignment="Center"
                                       FontSize="12"
                                       FontWeight="Bold"
                                       Foreground="{DynamicResource TextSecondaryBrush}" />
                        </StackPanel>
                    </StackPanel>

                    <!-- Short Break -->
                    <StackPanel Grid.Column="2">
                        <TextBlock Text="Short Break" 
                                   FontSize="12"
                                   FontWeight="Medium"
                                   Foreground="{DynamicResource TextPrimaryBrush}"
                                   Margin="0,0,0,4" />
                        <StackPanel Orientation="Horizontal">
                            <TextBox Text="{Binding ShortBreak, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource IntToStringConverter}, FallbackValue=5}" 
                                     Width="80"
                                     Height="36"
                                     FontSize="16"
                                     FontWeight="Bold"
                                     TextAlignment="Center"
                                     VerticalContentAlignment="Center"
                                     Style="{StaticResource ModernTextBox}" />
                            <TextBlock Text="min" 
                                       Margin="8,0,0,0"
                                       VerticalAlignment="Center"
                                       FontSize="12"
                                       FontWeight="Bold"
                                       Foreground="{DynamicResource TextSecondaryBrush}" />
                        </StackPanel>
                    </StackPanel>
                </Grid>

                <!-- Long Break & Interval Row -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="10" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    
                    <!-- Long Break -->
                    <StackPanel Grid.Column="0">
                        <TextBlock Text="Long Break" 
                                   FontSize="12"
                                   FontWeight="Medium"
                                   Foreground="{DynamicResource TextPrimaryBrush}"
                                   Margin="0,0,0,4" />
                        <StackPanel Orientation="Horizontal">
                            <TextBox Text="{Binding LongBreak, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource IntToStringConverter}, FallbackValue=15}" 
                                     Width="80"
                                     Height="36"
                                     FontSize="16"
                                     FontWeight="Bold"
                                     TextAlignment="Center"
                                     VerticalContentAlignment="Center"
                                     Style="{StaticResource ModernTextBox}" />
                            <TextBlock Text="min" 
                                       Margin="8,0,0,0"
                                       VerticalAlignment="Center"
                                       FontSize="12"
                                       FontWeight="Bold"
                                       Foreground="{DynamicResource TextSecondaryBrush}" />
                        </StackPanel>
                    </StackPanel>

                    <!-- Long Break Interval -->
                    <StackPanel Grid.Column="2">
                        <TextBlock Text="Long Break Every" 
                                   FontSize="12"
                                   FontWeight="Medium"
                                   Foreground="{DynamicResource TextPrimaryBrush}"
                                   Margin="0,0,0,4" />
                        <StackPanel Orientation="Horizontal">
                            <TextBox Text="{Binding LongBreakEvery, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource IntToStringConverter}, FallbackValue=4}" 
                                     Width="80"
                                     Height="36"
                                     FontSize="16"
                                     FontWeight="Bold"
                                     TextAlignment="Center"
                                     VerticalContentAlignment="Center"
                                     Style="{StaticResource ModernTextBox}" />
                            <TextBlock Text="cycles" 
                                       Margin="8,0,0,0"
                                       VerticalAlignment="Center"
                                       FontSize="12"
                                       FontWeight="Bold"
                                       Foreground="{DynamicResource TextSecondaryBrush}" />
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </StackPanel>
        </Border>

        <!-- Tracking Settings Card -->
        <Border Background="{DynamicResource CardBackgroundBrush}"
                BorderBrush="{DynamicResource BorderBrush}"
                BorderThickness="1"
                CornerRadius="12"
                Padding="18"
                Margin="0,0,0,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0">
                    <TextBlock Text="Tracking Timer" 
                               FontSize="15" 
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextPrimaryBrush}"
                               Margin="0,0,0,4" />
                    <TextBlock Text="How often to ask what you're working on" 
                               FontSize="11"
                               Foreground="{DynamicResource TextSecondaryBrush}" />
                </StackPanel>
                
                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBox Text="{Binding TrackingInterval, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource IntToStringConverter}, FallbackValue=15}" 
                             Width="80"
                             Height="36"
                             FontSize="16"
                             FontWeight="Bold"
                             TextAlignment="Center"
                             VerticalContentAlignment="Center"
                             Style="{StaticResource ModernTextBox}" />
                    <TextBlock Text="min" 
                               Margin="8,0,0,0"
                               VerticalAlignment="Center"
                               FontSize="12"
                               FontWeight="Bold"
                               Foreground="{DynamicResource TextSecondaryBrush}" />
                </StackPanel>
            </Grid>
        </Border>

        <!-- Save Button -->
        <Button Content="Save Changes" 
                Command="{Binding SaveCommand}" 
                Style="{StaticResource PrimaryButton}"
                Width="140"
                Height="38"
                HorizontalAlignment="Right" />
    </StackPanel>
</UserControl>